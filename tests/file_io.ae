/// out: "Hello, world!"

// All file IO stuff should be auto-imported from lib/prelude.ae

def main() {
    {
        let file = fopen("test.txt", "w")
        defer fclose(file)

        fwrite("Hello, world!" as untyped_ptr, 1, 13, file)
    }
    {
        let file = fopen("test.txt", "r")
        defer fclose(file)

        let mem = malloc(20)
        fread(mem, 1, 13, file)
        println("%s", mem as string)
    }
}
